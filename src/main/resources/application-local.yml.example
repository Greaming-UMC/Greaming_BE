# ===================================================================
# [LOCAL 개발 환경 설정 가이드]
# 1. 이 파일을 복사하여 같은 폴더에 'application-local.yml' 이름을 가진 파일을 생성하세요.
# 2. 아래 설정에서 본인의 로컬 DB 정보(username, password 등)를 입력하세요.
# 3. 'application-local.yml' 파일은 .gitignore에 등록되어 Git에 올라가지 않습니다.
# ===================================================================

server:
  port: 8080

spring:
  config:
    activate:
      on-profile: local # 로컬 프로필 활성화

  datasource:
    # [1] 로컬 DB 주소 (MySQL 기준)
    # 뒤에 /greaming_local 부분은 본인이 로컬에 만든 DB 이름으로 수정 가능
    url: jdbc:mysql://localhost:3306/greaming_local?serverTimezone=Asia/Seoul&characterEncoding=UTF-8

    # [2] 로컬 DB 계정 정보 (본인 설치 환경에 맞게 수정)
    username: root
    password: your_password_here # 여기에 본인 DB 비밀번호 입력

    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update # 로컬에서는 편하게 update 또는 create 사용
    show-sql: true # 쿼리 로그 출력
    properties:
      hibernate:
        format_sql: true

# ===================================================================
# [3] OAuth2 소셜 로그인 설정
# - Google Cloud Console / Kakao Developers에서 앱 등록 후 발급받은 정보 입력
# - redirect-uri는 각 플랫폼에서 등록한 값과 동일해야 함
# ===================================================================
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: your-google-client-id
            client-secret: your-google-client-secret
            scope:
              - email
              - profile
          kakao:
            client-id: your-kakao-client-id
            client-secret: your-kakao-client-secret
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            authorization-grant-type: authorization_code
            client-authentication-method: client_secret_post
            scope:
              - profile_nickname
              - account_email
            client-name: Kakao
        provider:
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id

# ===================================================================
# [참고] 로컬 실행 시 주의사항 (MySQL을 PC에 설치하지 않은 경우)
# - Docker가 켜져 있어야 DB 접속이 가능한 경우, Docker를 먼저 실행하세요.
# - 프로젝트 실행 시 Active Profile이 'local'로 잡히는지 확인하세요.
# ===================================================================